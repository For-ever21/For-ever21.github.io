(function(e){function t(t){for(var r,c,s=t[0],i=t[1],u=t[2],p=0,d=[];p<s.length;p++)c=s[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/aiwen/login/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"6e0c":function(e,t,n){},7850:function(e,t,n){},8204:function(e,t,n){e.exports=n.p+"static/img/logo_r.0a75d1c9.png"},c111:function(e,t,n){"use strict";n("7850")},ca15:function(e,t,n){e.exports=n.p+"static/img/logo_s.4a8031cd.png"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");n("ac1f"),n("466d"),n("1276"),n("5cfb");function a(e){console.log(e),o()}var o=function(){var e=navigator.userAgent,t=e.match(/\s{1}DSBRIDGE[\w\.]+$/g);if(t&&t.length>0){var n=t[0].split("_");window.$appVersion=n[1],window.$systemVersion=n[2],window.$platform=n[3]}else{var r=e.toLowerCase().match(/MicroMessenger/i),a=e.toLowerCase().match(/WeiBo/i),o=e.toLowerCase().match(/com\.iask\.healthhap/i);window.$platform=r?"weixin":a?"weibo":o?"hapApp":"h5",window.$appVersion="1.0.0",window.$systemVersion=void 0}};function c(e){console.log(e)}function s(e){console.log(e);var t=!0;t&&i()}function i(){(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?be80a72ce8e8dea7f5e034c8edea95c1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()}var u=n("8204"),l=n.n(u),p=n("ca15"),d=n.n(p),h=n("d991"),f=n.n(h),b=Object(r["D"])("data-v-02b576cf");Object(r["t"])("data-v-02b576cf");var m={class:"login"},v=Object(r["h"])("div",{class:"login-mask"},null,-1),g={class:"wrapper"},O=Object(r["h"])("div",{class:"logo"},[Object(r["h"])("img",{src:l.a,alt:""})],-1),j={class:"login-form"},A={class:"cell"},y={class:"cell"},w=Object(r["h"])("div",{class:"policy_text"},[Object(r["g"])(" 同意 "),Object(r["h"])("a",{href:"https://health.sina.cn/zt/app/rules"},"《爱问医生用户协议》"),Object(r["g"])(" 与 "),Object(r["h"])("a",{href:"https://health.sina.cn/zt/agreement/patient"},"《隐私条款》")],-1),k=Object(r["h"])("span",null,"登录",-1),T=Object(r["h"])("div",{class:"tip"},"未注册手机号验证后将自动注册新账号",-1),x={class:"demo"},E={class:"footer h5"},S={class:"ad_contain"},C=Object(r["h"])("div",{class:"logo_s"},[Object(r["h"])("img",{src:d.a,alt:""})],-1),P=Object(r["h"])("div",{class:"desc"},[Object(r["h"])("span",null,"使用APP"),Object(r["h"])("p",null,"体验更多优质服务")],-1),I=Object(r["h"])("img",{src:f.a,alt:""},null,-1);Object(r["s"])();var R=b((function(e,t,n,a,o,c){return Object(r["r"])(),Object(r["f"])("section",m,[v,Object(r["h"])("div",g,[O,Object(r["h"])("h2",{style:e.styleVar,class:"title"},"登录爱问医生",4),Object(r["h"])("div",j,[Object(r["h"])("div",A,[Object(r["C"])(Object(r["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.loginForm.phone=t}),type:"tel",class:"field_control",placeholder:"请输入手机号",onFocus:t[2]||(t[2]=function(t){return e.handleFocus("phone")}),onBlur:t[3]||(t[3]=function(t){return e.handleBlur("phone")})},null,544),[[r["y"],e.loginForm.phone]]),Object(r["h"])("div",{class:[e.sms.disabled?"field_btn field_disabled":"field_btn"],onClick:t[4]||(t[4]=function(){return e.handleGetSmsCode.apply(e,arguments)})},Object(r["w"])(e.sms.disabled?"".concat(e.sms.countTime,"s"):e.sms.text),3)]),Object(r["h"])("div",y,[Object(r["C"])(Object(r["h"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.loginForm.sms=t}),type:"tel",class:"field_control",maxlength:"6",placeholder:"请输入验证码",onFocus:t[6]||(t[6]=function(t){return e.handleFocus("sms")}),onBlur:t[7]||(t[7]=function(t){return e.handleBlur("sms")})},null,544),[[r["y"],e.loginForm.sms]])])]),Object(r["h"])("div",{style:e.styleVar,class:"policy"},[Object(r["h"])("div",{class:"policy_checkbox",onClick:t[8]||(t[8]=function(){return e.handleCheckPolicy.apply(e,arguments)})},[Object(r["h"])("div",{class:[e.checkedPolicy?"ischecked":"uncheck"]},null,2)]),w],4),Object(r["h"])("div",{class:["login-btn",[e.formState.disabled?"disabled":"",(e.formState.loading,"loading")]],onClick:t[9]||(t[9]=function(){return e.handleLogin.apply(e,arguments)})},[k],2),T]),Object(r["h"])("div",x,[Object(r["h"])("div",{class:"btn",onClick:t[10]||(t[10]=function(){return e.handleWxLogin.apply(e,arguments)})},"微信授权登录"),Object(r["h"])("div",{class:"btn",onClick:t[11]||(t[11]=function(){return e.handleAppWeiboLogin.apply(e,arguments)})},"微博授权")]),Object(r["h"])("footer",E,[Object(r["C"])(Object(r["h"])("div",S,[C,P,Object(r["h"])("div",{class:"action",onClick:t[12]||(t[12]=function(){return e.handleDownloadApp.apply(e,arguments)})},"下载APP"),Object(r["h"])("div",{class:"close",onClick:t[13]||(t[13]=function(){return e.handleCloseAd.apply(e,arguments)})},[I])],512),[[r["z"],e.isShowAd]])])])})),_=(n("96cf"),n("1da1")),D=(n("99af"),n("caad"),n("c975"),n("d3b7"),n("25f0"),n("2532"),n("4160"),n("b0c0"),n("b64b"),n("159b"),n("5530")),U=n("d4ec"),q=n("bee2"),B=n("bc3a"),L=n.n(B),N=(n("a15b"),n("4ec9"),n("3ca3"),n("ddb0"),n("53ca"),Object.prototype.toString);function F(e,t){return N.call(e)==="[object ".concat(t,"]")}function M(e){return F(e,"String")}function V(e){return F(e,"Function")}var W,G,X,J=new Map,K=function(e){return[e.method,e.url].join("&")},Q=function(){function e(){Object(U["a"])(this,e)}return Object(q["a"])(e,[{key:"addPending",value:function(e){this.removePending(e);var t=K(e);e.cancelToken=e.cancelToken||new L.a.CancelToken((function(e){J.has(t)||J.set(t,e)}))}},{key:"removeAllPending",value:function(){J.forEach((function(e){e&&V(e)&&e()})),J.clear()}},{key:"removePending",value:function(e){var t=K(e);if(J.has(t)){var n=J.get(t);n&&n(t),J.delete(t)}}},{key:"reset",value:function(){J=new Map}}]),e}(),z=n("5c8a"),H="__ERROR_RESULT__";(function(e){e[e["SUCCESS"]=200]="SUCCESS"})(W||(W={})),function(e){e["GET"]="GET",e["POST"]="POST",e["PUT"]="PUT",e["DELETE"]="DELETE"}(G||(G={})),function(e){e["JSON"]="application/json;charset=UTF-8",e["FORM_URLENCODED"]="application/x-www-form-urlencoded;charset=UTF-8",e["FORM_DATA"]="multipart/form-data;charset=UTF-8"}(X||(X={}));var $=function(){function e(t){Object(U["a"])(this,e),this.options=t,this.axiosInstance=L.a.create(t),this.setupInterceptors()}return Object(q["a"])(e,[{key:"createAxios",value:function(e){this.axiosInstance=L.a.create(e)}},{key:"getTransform",value:function(){var e=this.options.transform;return e}},{key:"getAxios",value:function(){return this.axiosInstance}},{key:"configAxios",value:function(e){this.axiosInstance&&this.createAxios(e)}},{key:"setHeader",value:function(e){this.axiosInstance&&Object.assign(this.axiosInstance.defaults.headers,e)}},{key:"setupInterceptors",value:function(){var e=this.getTransform();if(e){var t=e.requestInterceptors,n=e.requestInterceptorsCatch,r=e.responseInterceptors,a=e.responseInterceptorsCatch,o=new Q;this.axiosInstance.interceptors.request.use((function(e){var n=e,r=n.headers;r=void 0===r?{ignoreCancelToken:!1}:r;var a=r.ignoreCancelToken;return!a&&o.addPending(e),t&&V(t)&&(e=t(e)),e}),void 0),n&&V(n)&&this.axiosInstance.interceptors.request.use(void 0,n),this.axiosInstance.interceptors.response.use((function(e){return e&&o.removePending(e.config),r&&V(r)&&(e=r(e)),e}),void 0),a&&V(a)&&this.axiosInstance.interceptors.response.use(void 0,a)}}},{key:"uploadFile",value:function(e,t){var n=new window.FormData;return t.data&&Object.keys(t.data).forEach((function(e){if(t.data){var r=t.data[e];Array.isArray(r)?r.forEach((function(t){n.append("".concat(e,"[]"),t)})):n.append(e,t.data[e])}})),n.append(t.name||"file",t.file,t.filename),this.axiosInstance.request(Object(D["a"])(Object(D["a"])({},e),{},{method:"POST",data:n,headers:{"Content-type":X.FORM_DATA,ignoreCancelToken:!0}}))}},{key:"request",value:function(e,t){var n=this,r=Object(z["a"])(e),a=this.getTransform(),o=this.options.requestOptions,c=Object.assign({},o,t),s=a||{},i=s.beforeRequestHook,u=s.requestCatch,l=s.transformRequestData;return i&&V(i)&&(r=i(r,c)),new Promise((function(e,t){n.axiosInstance.request(r).then((function(n){if(l&&V(l)){var r=l(n,c);r!==H?e(r):t(new Error("request error!"))}else e(n)})).catch((function(e){u&&V(u)?t(u(e)):t(e)}))}))}}]),e}(),Z=n("a78e"),Y=n.n(Z),ee="Admin-Token";function te(){return Y.a.get(ee)}n("e7e5");var ne=n("d399");function re(){return{Toast:ne["a"]}}var ae=re(),oe=ae.Toast;function ce(e,t){switch(e){case 400:oe("".concat(t));break;case 401:oe("用户没有权限（令牌、用户名、密码错误）!");break;case 403:oe("用户得到授权，但是访问是被禁止的。!");break;case 404:oe("网络请求错误,未找到该资源!");break;case 405:oe("网络请求错误,请求方法未允许!");break;case 408:oe("网络请求超时!");break;case 500:oe(t||"服务器错误,请联系管理员!");break;case 501:oe("网络未实现!");break;case 502:oe("网络错误!");break;case 503:oe(t||"服务不可用，服务器暂时过载或维护!");break;case 504:oe("网络超时!");break;case 505:oe("http版本不支持该请求!");break;default:}}n("4de4"),n("a630"),n("6062"),n("5319");function se(e,t){var n;for(n in t)e[n]=e[n]&&"[object Object]"===e[n].toString()?se(e[n],t[n]):e[n]=t[n];return e}var ie=re(),ue=ie.Toast,le={transformRequestData:function(e,t){var n=t.isTransformRequestResult;if(!n)return e.data;var r=e.data;if(!r)return H;var a=r.status,o=r.data,c=r.message;return a?a===W.SUCCESS?o:(ue(c||"操作失败,系统异常!"),Promise.reject(new Error(c)),H):r},beforeRequestHook:function(e,t){var n=t.apiUrl;if(n&&M(n)&&(e.url="".concat(n).concat(e.url)),e.method===G.GET){var r=(new Date).getTime();M(e.params)?(e.url=e.url+e.params+"?_t=".concat(r),e.params=void 0):e.data={params:Object.assign(e.params||{},{_t:r})}}else M(e.params)?(e.url=e.url+e.params,e.params=void 0):(e.data=e.params,e.params=void 0);return e},requestInterceptors:function(e){var t=te();return t&&(e.headers.Authorization=t),e},responseInterceptorsCatch:function(e){var t=e||{},n=t.response,r=t.code,a=t.message,o=n&&n.data&&n.data.error?n.data.message:"",c=e.toString();try{"ECONNABORTED"===r&&-1!==a.indexOf("timeout")&&ue("接口请求超时,请刷新页面重试!"),c&&c.includes("Network Error")&&ue("网络异常")}catch(e){throw new Error(e)}return ce(e.response&&e.response.status,o),Promise.reject(e)}};function pe(e){return new $(se({timeout:2e4,headers:{"Content-Type":X.JSON},transform:le,requestOptions:{isTransformRequestResult:!0,joinParamsToUrl:!1,formatDate:!0,errorMessageMode:"none",apiUrl:""}},e||{}))}var de,he,fe,be,me,ve=pe({requestOptions:{apiUrl:"/api"}});function ge(e){return ve.request({url:"/auth/phoneCheckNum",method:"GET",params:e})}function Oe(e){return ve.request({url:"/telAuth",method:"POST",params:e})}function je(e){return ve.request({url:"/auth/generateCodeUrl",method:"GET",params:e})}function Ae(e){var t=/^(?:1)\d{10}$/;return t.test(e)}(function(e){e["DOCTOR"]="doctor",e["USER"]="user",e["BUSINESS"]="business",e["ADMIN"]="admin",e["MEDIC"]="medic"})(de||(de={})),function(e){e["WEIXIN"]="wx",e["WEIBO"]="weibo"}(he||(he={})),function(e){e["PATIENT"]="patient"}(fe||(fe={})),function(e){e["APP"]="app",e["PC"]="pc"}(be||(be={})),function(e){e["PC"]="pc",e["H5"]="h5",e["ANDROID"]="android",e["IOS"]="iphone"}(me||(me={}));var ye=re(),we=ye.Toast,ke={},Te=Object(r["i"])({name:"App",setup:function(){var e=Object(r["v"])(!1),t=Object(r["v"])(!0),n=Object(r["u"])({"--space":"60px"}),a=Object(r["u"])({phone:"",sms:""}),o=Object(r["u"])({loading:!1,disabled:!0}),c=Object(r["u"])({text:"获取验证码",countTime:60,disabled:!1});function s(){e.value=!e.value}function i(){n["--space"]="40px"}function u(){n["--space"]="60px"}function l(){return p.apply(this,arguments)}function p(){return p=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!c.disabled){e.next=2;break}return e.abrupt("return",!1);case 2:if(a.phone){e.next=5;break}return we("请输入手机号"),e.abrupt("return",!1);case 5:if(Ae(a.phone)){e.next=8;break}return we("请输入正确的手机号"),e.abrupt("return",!1);case 8:return a.sms="",c.countTime=10,e.prev=10,t={phone:a.phone,userType:de.USER},e.next=14,ge(t);case 14:c.disabled=!0,clearTimeout(ke),ke=setInterval((function(){c.countTime--,0===c.countTime&&(c.disabled=!1,c.text="重新获取",clearTimeout(ke))}),1e3),e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](10),c.disabled=!1,10014===e.t0.code||10015===e.t0.code||we("验证码发送失败，请重试");case 23:case"end":return e.stop()}}),e,null,[[10,19]])}))),p.apply(this,arguments)}function d(){return h.apply(this,arguments)}function h(){return h=Object(_["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!o.disabled&&!o.loading){t.next=2;break}return t.abrupt("return",!1);case 2:if(a.phone){t.next=5;break}return we("请输入手机号"),t.abrupt("return",!1);case 5:if(Ae(a.phone)){t.next=8;break}return we("请输入正确的手机号"),t.abrupt("return",!1);case 8:if(6===a.sms.length){t.next=11;break}return we("请输入正确的验证码"),t.abrupt("return",!1);case 11:if(e){t.next=14;break}return we("请勾选用户协议"),t.abrupt("return",!1);case 14:return t.prev=14,n={tel:a.phone,checkNum:a.sms,loginSource:fe.PATIENT,loginType:be.APP,source:me.H5,userType:de.USER},t.next=18,Oe(n);case 18:r=t.sent,console.log("data",r),t.next=25;break;case 22:return t.prev=22,t.t0=t["catch"](14),t.abrupt("return",null);case 25:case"end":return t.stop()}}),t,null,[[14,22]])}))),h.apply(this,arguments)}function f(){var e="wx9d5ab02fea68ed0a",t="/aiwen/login",n="https://for-ever21.github.io",r="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(e,"&redirect_uri=")+"".concat(n).concat(t,"&response_type=code&scope=snsapi_userinfo&state=")+"STATE&connect_redirect=1#wechat_redirect";window.location.href=r}function b(e){var t={providerType:e,userType:de.DOCTOR,authType:"login",projectName:"patient",resourceUrl:"https://for-ever21.github.io/aiwen/login",source:"h5",scope:"snsapi_userinfo"};je(t).then((function(e){console.log("res",e),window.location.href=e}))}function m(){console.log("handleWxBind")}function v(){console.log("handleAppWxLogin")}function g(){console.log("handleAppWeiboLogin"),b("weibo")}function O(){console.log("handleDownloadApp")}function j(){console.log("handleCloseAd"),t.value=!1}return Object(r["B"])((function(){console.log(a.phone),Ae(a.phone)&&6===a.sms.length?o.disabled=!1:o.disabled=!0})),{checkedPolicy:e,isShowAd:t,styleVar:n,loginForm:a,formState:o,sms:c,handleCheckPolicy:s,handleFocus:i,handleBlur:u,handleLogin:d,handleGetSmsCode:l,handleWxLogin:f,handleWxBind:m,handleAppWxLogin:v,handleAppWeiboLogin:g,handleDownloadApp:O,handleCloseAd:j}}});n("c111");Te.render=R,Te.__scopeId="data-v-02b576cf";var xe=Te,Ee=(n("6e0c"),Object(r["e"])(xe));a(Ee),c(Ee),s(Ee),Ee.mount("#app")},d991:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAgVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9d3yJTAAAAKnRSTlMAAQIDBAUHDQ8RExUXGhwfdoyRkpaXnKClpqqusbKzxsrN0dTX2t3f4PIItAkXAAAAvUlEQVQoz3WSSxaCUAxDIyggoCKK+AUVBN7d/wIdKEdBX2dNTts0rRJz8DQK72ASGShmQ3xWgNEZOE2/8ekJOMsvgaP7wd0jUPpScAX2To87e+AaSNL8BuRvxsmB2/yVhHdgN5GkyQ64h315VAGZJGVAFX0GxjWwkTZAHX9LXDyA9Rp4LIZLLRsAaJZjG1YtQLvSD9EBdD+ErZVteFwDqZSO5EYVsJWk7WBBmyU2E222Ww9lPa2By99nsL3PE3KTIMpDLqOvAAAAAElFTkSuQmCC"}});